{"ast":null,"code":"var _jsxFileName = \"/Users/karupaiyachu/Desktop/project/chat-app copy/frontend/src/components/SingleChat.js\",\n  _s = $RefreshSig$();\nimport { FormControl } from \"@chakra-ui/form-control\";\nimport { Input } from \"@chakra-ui/input\";\nimport { Box, Text } from \"@chakra-ui/layout\";\nimport \"./styles.css\";\nimport \"./SingleChat.css\";\nimport { IconButton, Spinner, useToast } from \"@chakra-ui/react\";\nimport { getSender, getSenderFull } from \"../config/ChatLogics\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { ArrowBackIcon } from \"@chakra-ui/icons\";\nimport ProfileModal from \"./miscellaneous/ProfileModal\";\nimport ScrollableChat from \"./ScrollableChat\";\nimport Lottie from \"react-lottie\";\nimport animationData from \"../animations/typing.json\";\nimport io from \"socket.io-client\";\nimport UpdateGroupChatModal from \"./miscellaneous/UpdateGroupChatModal\";\nimport { ChatState } from \"../Context/ChatProvider\";\nimport Pay from \"./Pay\";\nimport PaymentChoice from \"./PaymentChoice\";\nimport GroupPayment from \"./GroupPayment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ENDPOINT = \"http://localhost:5000\"; // \"https://talk-a-tive.herokuapp.com\"; -> After deployment\nvar socket, selectedChatCompare;\nconst SingleChat = _ref => {\n  _s();\n  let {\n    fetchAgain,\n    setFetchAgain,\n    Moralis,\n    EvmChain\n  } = _ref;\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [socketConnected, setSocketConnected] = useState(false);\n  const [typing, setTyping] = useState(false);\n  const [istyping, setIsTyping] = useState(false);\n  const toast = useToast();\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: animationData,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\"\n    }\n  };\n  const {\n    selectedChat,\n    setSelectedChat,\n    user,\n    notification,\n    setNotification\n  } = ChatState();\n  const fetchMessages = async () => {\n    if (!selectedChat) return;\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      };\n      setLoading(true);\n      const {\n        data\n      } = await axios.get(`/api/message/${selectedChat._id}`, config);\n      setMessages(data);\n      setLoading(false);\n      socket.emit(\"join chat\", selectedChat._id);\n    } catch (error) {\n      toast({\n        title: \"Error Occured!\",\n        description: \"Failed to Load the Messages\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\",\n        receiver_id: getSender(user, selectedChat.users)\n      });\n    }\n  };\n  const sendMessage = async event => {\n    if (event.key === \"Enter\" && newMessage) {\n      socket.emit(\"stop typing\", selectedChat._id);\n      try {\n        const config = {\n          headers: {\n            \"Content-type\": \"application/json\",\n            Authorization: `Bearer ${user.token}`\n          }\n        };\n        setNewMessage(\"\");\n        console.log(newMessage + \" \" + selectedChat);\n        const {\n          data\n        } = await axios.post(\"/api/message\", {\n          content: newMessage,\n          chatId: selectedChat,\n          payment: false,\n          payment_mode: \"false\",\n          chat_mode: \"private\",\n          payment_type: \"false\",\n          currency: \"false\",\n          note: \"empty\",\n          token_address: \"empty\"\n        }, config);\n        socket.emit(\"new message\", data);\n        setMessages([...messages, data]);\n      } catch (error) {\n        toast({\n          title: \"Error Occured!\",\n          description: \"Failed to send the Message\",\n          status: \"error\",\n          duration: 5000,\n          isClosable: true,\n          position: \"bottom\"\n        });\n      }\n    }\n  };\n  useEffect(() => {\n    socket = io(ENDPOINT);\n    socket.emit(\"setup\", user);\n    socket.on(\"connected\", () => setSocketConnected(true));\n    socket.on(\"typing\", () => setIsTyping(true));\n    socket.on(\"stop typing\", () => setIsTyping(false));\n    console.log(socket);\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    fetchMessages();\n    selectedChatCompare = selectedChat;\n    // eslint-disable-next-line\n  }, [selectedChat]);\n  const refAgain = () => {\n    fetchMessages();\n  };\n  useEffect(() => {\n    socket.on(\"message recieved\", newMessageRecieved => {\n      if (!selectedChatCompare ||\n      // if chat is not selected or doesn't match current chat\n      selectedChatCompare._id !== newMessageRecieved.chat._id) {\n        if (!notification.includes(newMessageRecieved)) {\n          setNotification([newMessageRecieved, ...notification]);\n          setFetchAgain(!fetchAgain);\n        }\n      } else {\n        setMessages([...messages, newMessageRecieved]);\n      }\n    });\n  });\n  const typingHandler = e => {\n    setNewMessage(e.target.value);\n    if (!socketConnected) return;\n    if (!typing) {\n      setTyping(true);\n      socket.emit(\"typing\", selectedChat._id);\n    }\n    let lastTypingTime = new Date().getTime();\n    var timerLength = 3000;\n    setTimeout(() => {\n      var timeNow = new Date().getTime();\n      var timeDiff = timeNow - lastTypingTime;\n      if (timeDiff >= timerLength && typing) {\n        socket.emit(\"stop typing\", selectedChat._id);\n        setTyping(false);\n      }\n    }, timerLength);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"single_class_div\",\n      children: selectedChat ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          fontSize: {\n            base: \"20px\",\n            md: \"20px\"\n          },\n          pb: 3,\n          px: 2,\n          w: \"100%\",\n          fontFamily: \"Work sans\",\n          d: \"flex\",\n          justifyContent: {\n            base: \"space-between\"\n          },\n          alignItems: \"center\",\n          color: \"white\",\n          position: \"absolute\",\n          top: \"0\",\n          left: \"0\",\n          padding: \"10px\",\n          bg: \"blackAlpha.400\",\n          backdropFilter: \"auto\",\n          backdropBlur: \"6px\",\n          zIndex: \"1000\",\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            d: {\n              base: \"flex\",\n              md: \"none\"\n            },\n            icon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 23\n            }, this),\n            onClick: () => setSelectedChat(\"\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), messages && (!selectedChat.isGroupChat ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font1\",\n              children: getSender(user, selectedChat.users)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 21\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [selectedChat.chatName, /*#__PURE__*/_jsxDEV(UpdateGroupChatModal, {\n              fetchMessages: fetchMessages,\n              fetchAgain: fetchAgain,\n              setFetchAgain: setFetchAgain\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          d: \"flex\",\n          flexDir: \"column\",\n          justifyContent: \"flex-end\",\n          p: 3,\n          bg: \"rgb(66,69,73)\",\n          w: \"100%\",\n          h: \"105%\",\n          borderRadius: \"lg\",\n          overflowY: \"hidden\",\n          paddingTop: \"10px\",\n          children: [loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n            size: \"xl\",\n            w: 20,\n            h: 20,\n            alignSelf: \"center\",\n            margin: \"auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"messages\",\n            children: /*#__PURE__*/_jsxDEV(ScrollableChat, {\n              messages: messages,\n              refAgain: refAgain\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            onKeyDown: sendMessage,\n            id: \"first-name\",\n            isRequired: true,\n            mt: 3,\n            children: [istyping ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Lottie, {\n                options: defaultOptions\n                // height={50}\n                ,\n                width: 70,\n                style: {\n                  marginBottom: 15,\n                  marginLeft: 0\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                margin: \"auto\",\n                display: \"flex\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                variant: \"filled\",\n                bg: \"rgb(54,57,62)\",\n                color: \"white\",\n                focusBorderColor: \"rgb(54,57,62)\",\n                placeholder: \"Enter a message..\",\n                value: newMessage,\n                width: \"97%\",\n                onChange: typingHandler,\n                _hover: {\n                  bg: \"rgb(54,57,62)\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this), messages && (!selectedChat.isGroupChat ? /*#__PURE__*/_jsxDEV(PaymentChoice, {\n                fetchAgain: fetchAgain,\n                setFetchAgain: setFetchAgain,\n                fetchMessages: fetchMessages,\n                refAgain: refAgain,\n                Moralis: Moralis,\n                EvmChain: EvmChain,\n                sender_id: getSender(user, selectedChat.users)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(PaymentChoice, {\n                fetchAgain: fetchAgain,\n                setFetchAgain: setFetchAgain,\n                fetchMessages: fetchMessages,\n                refAgain: refAgain,\n                Moralis: Moralis,\n                EvmChain: EvmChain,\n                sender_id: getSender(user, selectedChat.users)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) :\n      /*#__PURE__*/\n      // to get socket.io on same page\n      _jsxDEV(Box, {\n        d: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        h: \"105%\",\n        w: \"100%\",\n        bg: \"rgb(66,69,73)\",\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          fontSize: \"3xl\",\n          pb: 3,\n          color: \"white\",\n          className: \"font1\",\n          children: \"Click on a user to start chatting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(SingleChat, \"J0/5w4jPVqRx8QfTCSBBWdq70n4=\", false, function () {\n  return [useToast];\n});\n_c = SingleChat;\nexport default SingleChat;\nvar _c;\n$RefreshReg$(_c, \"SingleChat\");","map":{"version":3,"names":["FormControl","Input","Box","Text","IconButton","Spinner","useToast","getSender","getSenderFull","useEffect","useState","axios","ArrowBackIcon","ProfileModal","ScrollableChat","Lottie","animationData","io","UpdateGroupChatModal","ChatState","Pay","PaymentChoice","GroupPayment","ENDPOINT","socket","selectedChatCompare","SingleChat","fetchAgain","setFetchAgain","Moralis","EvmChain","messages","setMessages","loading","setLoading","newMessage","setNewMessage","socketConnected","setSocketConnected","typing","setTyping","istyping","setIsTyping","toast","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","selectedChat","setSelectedChat","user","notification","setNotification","fetchMessages","config","headers","Authorization","token","data","get","_id","emit","error","title","description","status","duration","isClosable","position","receiver_id","users","sendMessage","event","key","console","log","post","content","chatId","payment","payment_mode","chat_mode","payment_type","currency","note","token_address","on","refAgain","newMessageRecieved","chat","includes","typingHandler","e","target","value","lastTypingTime","Date","getTime","timerLength","setTimeout","timeNow","timeDiff","base","md","isGroupChat","chatName","marginBottom","marginLeft","margin","display","bg"],"sources":["/Users/karupaiyachu/Desktop/project/chat-app copy/frontend/src/components/SingleChat.js"],"sourcesContent":["import { FormControl } from \"@chakra-ui/form-control\";\nimport { Input } from \"@chakra-ui/input\";\nimport { Box, Text } from \"@chakra-ui/layout\";\nimport \"./styles.css\";\nimport \"./SingleChat.css\";\nimport { IconButton, Spinner, useToast } from \"@chakra-ui/react\";\nimport { getSender, getSenderFull } from \"../config/ChatLogics\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { ArrowBackIcon } from \"@chakra-ui/icons\";\nimport ProfileModal from \"./miscellaneous/ProfileModal\";\nimport ScrollableChat from \"./ScrollableChat\";\nimport Lottie from \"react-lottie\";\nimport animationData from \"../animations/typing.json\";\n\nimport io from \"socket.io-client\";\nimport UpdateGroupChatModal from \"./miscellaneous/UpdateGroupChatModal\";\nimport { ChatState } from \"../Context/ChatProvider\";\nimport Pay from \"./Pay\";\nimport PaymentChoice from \"./PaymentChoice\";\nimport GroupPayment from \"./GroupPayment\";\n\nconst ENDPOINT = \"http://localhost:5000\"; // \"https://talk-a-tive.herokuapp.com\"; -> After deployment\nvar socket, selectedChatCompare;\n\nconst SingleChat = ({ fetchAgain, setFetchAgain, Moralis, EvmChain }) => {\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [socketConnected, setSocketConnected] = useState(false);\n  const [typing, setTyping] = useState(false);\n  const [istyping, setIsTyping] = useState(false);\n  const toast = useToast();\n\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: animationData,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\",\n    },\n  };\n  const { selectedChat, setSelectedChat, user, notification, setNotification } =\n    ChatState();\n\n  const fetchMessages = async () => {\n    if (!selectedChat) return;\n\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n      };\n\n      setLoading(true);\n\n      const { data } = await axios.get(\n        `/api/message/${selectedChat._id}`,\n        config\n      );\n      setMessages(data);\n      setLoading(false);\n\n      socket.emit(\"join chat\", selectedChat._id);\n    } catch (error) {\n      toast({\n        title: \"Error Occured!\",\n        description: \"Failed to Load the Messages\",\n        status: \"error\",\n        duration: 5000,\n        isClosable: true,\n        position: \"bottom\",\n        receiver_id: getSender(user, selectedChat.users),\n      });\n    }\n  };\n\n  const sendMessage = async (event) => {\n    if (event.key === \"Enter\" && newMessage) {\n      socket.emit(\"stop typing\", selectedChat._id);\n      try {\n        const config = {\n          headers: {\n            \"Content-type\": \"application/json\",\n            Authorization: `Bearer ${user.token}`,\n          },\n        };\n        setNewMessage(\"\");\n        console.log(newMessage + \" \" + selectedChat);\n        const { data } = await axios.post(\n          \"/api/message\",\n          {\n            content: newMessage,\n            chatId: selectedChat,\n            payment: false,\n            payment_mode: \"false\",\n            chat_mode: \"private\",\n            payment_type: \"false\",\n            currency: \"false\",\n            note: \"empty\",\n            token_address: \"empty\",\n          },\n          config\n        );\n        socket.emit(\"new message\", data);\n        setMessages([...messages, data]);\n      } catch (error) {\n        toast({\n          title: \"Error Occured!\",\n          description: \"Failed to send the Message\",\n          status: \"error\",\n          duration: 5000,\n          isClosable: true,\n          position: \"bottom\",\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    socket = io(ENDPOINT);\n    socket.emit(\"setup\", user);\n    socket.on(\"connected\", () => setSocketConnected(true));\n    socket.on(\"typing\", () => setIsTyping(true));\n    socket.on(\"stop typing\", () => setIsTyping(false));\n    console.log(socket);\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    fetchMessages();\n\n    selectedChatCompare = selectedChat;\n    // eslint-disable-next-line\n  }, [selectedChat]);\n\n  const refAgain = () => {\n    fetchMessages();\n  };\n\n  useEffect(() => {\n    socket.on(\"message recieved\", (newMessageRecieved) => {\n      if (\n        !selectedChatCompare || // if chat is not selected or doesn't match current chat\n        selectedChatCompare._id !== newMessageRecieved.chat._id\n      ) {\n        if (!notification.includes(newMessageRecieved)) {\n          setNotification([newMessageRecieved, ...notification]);\n          setFetchAgain(!fetchAgain);\n        }\n      } else {\n        setMessages([...messages, newMessageRecieved]);\n      }\n    });\n  });\n\n  const typingHandler = (e) => {\n    setNewMessage(e.target.value);\n    if (!socketConnected) return;\n\n    if (!typing) {\n      setTyping(true);\n      socket.emit(\"typing\", selectedChat._id);\n    }\n    let lastTypingTime = new Date().getTime();\n    var timerLength = 3000;\n    setTimeout(() => {\n      var timeNow = new Date().getTime();\n      var timeDiff = timeNow - lastTypingTime;\n      if (timeDiff >= timerLength && typing) {\n        socket.emit(\"stop typing\", selectedChat._id);\n        setTyping(false);\n      }\n    }, timerLength);\n  };\n\n  return (\n    <>\n      <div id=\"single_class_div\">\n        {selectedChat ? (\n          <>\n            <Text\n              fontSize={{ base: \"20px\", md: \"20px\" }}\n              pb={3}\n              px={2}\n              w=\"100%\"\n              fontFamily=\"Work sans\"\n              d=\"flex\"\n              justifyContent={{ base: \"space-between\" }}\n              alignItems=\"center\"\n              color=\"white\"\n              position={\"absolute\"}\n              top={\"0\"}\n              left={\"0\"}\n              padding={\"10px\"}\n              bg=\"blackAlpha.400\"\n              backdropFilter=\"auto\"\n              backdropBlur=\"6px\"\n              zIndex={\"1000\"}\n            >\n              <IconButton\n                d={{ base: \"flex\", md: \"none\" }}\n                icon={<ArrowBackIcon />}\n                onClick={() => setSelectedChat(\"\")}\n              />\n              {messages &&\n                (!selectedChat.isGroupChat ? (\n                  <>\n                    <p className=\"font1\">\n                      {getSender(user, selectedChat.users)}\n                    </p>\n                    {/* <ProfileModal\n                    user={getSenderFull(user, selectedChat.users)}\n                  /> */}\n                  </>\n                ) : (\n                  <>\n                    {selectedChat.chatName}\n                    <UpdateGroupChatModal\n                      fetchMessages={fetchMessages}\n                      fetchAgain={fetchAgain}\n                      setFetchAgain={setFetchAgain}\n                    />\n                  </>\n                ))}\n            </Text>\n            <Box\n              d=\"flex\"\n              flexDir=\"column\"\n              justifyContent=\"flex-end\"\n              p={3}\n              bg=\"rgb(66,69,73)\"\n              w=\"100%\"\n              h=\"105%\"\n              borderRadius=\"lg\"\n              overflowY=\"hidden\"\n              paddingTop={\"10px\"}\n            >\n              {loading ? (\n                <Spinner\n                  size=\"xl\"\n                  w={20}\n                  h={20}\n                  alignSelf=\"center\"\n                  margin=\"auto\"\n                />\n              ) : (\n                <div className=\"messages\">\n                  <ScrollableChat messages={messages} refAgain={refAgain} />\n                </div>\n              )}\n\n              <FormControl\n                onKeyDown={sendMessage}\n                id=\"first-name\"\n                isRequired\n                mt={3}\n              >\n                {istyping ? (\n                  <div>\n                    <Lottie\n                      options={defaultOptions}\n                      // height={50}\n                      width={70}\n                      style={{ marginBottom: 15, marginLeft: 0 }}\n                    />\n                  </div>\n                ) : (\n                  <></>\n                )}\n                <div style={{ margin: \"auto\", display: \"flex\" }}>\n                  <Input\n                    variant=\"filled\"\n                    bg=\"rgb(54,57,62)\"\n                    color=\"white\"\n                    focusBorderColor=\"rgb(54,57,62)\"\n                    placeholder=\"Enter a message..\"\n                    value={newMessage}\n                    width=\"97%\"\n                    onChange={typingHandler}\n                    _hover={{ bg: \"rgb(54,57,62)\" }}\n                  />\n                  {messages &&\n                    (!selectedChat.isGroupChat ? (\n                      <PaymentChoice\n                        fetchAgain={fetchAgain}\n                        setFetchAgain={setFetchAgain}\n                        fetchMessages={fetchMessages}\n                        refAgain={refAgain}\n                        Moralis={Moralis}\n                        EvmChain={EvmChain}\n                        sender_id={getSender(user, selectedChat.users)}\n                      />\n                    ) : (\n                      <PaymentChoice\n                        fetchAgain={fetchAgain}\n                        setFetchAgain={setFetchAgain}\n                        fetchMessages={fetchMessages}\n                        refAgain={refAgain}\n                        Moralis={Moralis}\n                        EvmChain={EvmChain}\n                        sender_id={getSender(user, selectedChat.users)}\n                      />\n                    ))}\n                </div>\n              </FormControl>\n            </Box>\n          </>\n        ) : (\n          // to get socket.io on same page\n          <Box\n            d=\"flex\"\n            alignItems=\"center\"\n            justifyContent=\"center\"\n            h=\"105%\"\n            w=\"100%\"\n            bg=\"rgb(66,69,73)\"\n          >\n            <Text fontSize=\"3xl\" pb={3} color=\"white\" className=\"font1\">\n              Click on a user to start chatting\n            </Text>\n          </Box>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default SingleChat;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}